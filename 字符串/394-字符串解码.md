
```
给定一个经过编码的字符串，返回它解码后的字符串。

编码规则为: k[encoded_string]，表示其中方括号内部的 encoded_string 正好重复 k 次。注意 k 保证为正整数。

你可以认为输入字符串总是有效的；输入字符串中没有额外的空格，且输入的方括号总是符合格式要求的。

此外，你可以认为原始数据不包含数字，所有的数字只表示重复的次数 k ，例如不会出现像 3a 或 2[4] 的输入。

示例:

s = "3[a]2[bc]", 返回 "aaabcbc".
s = "3[a2[c]]", 返回 "accaccacc".
s = "2[abc]3[cd]ef", 返回 "abcabccdcdcdef".
```

```
class Solution {
    public String decodeString(String s) {
        if (s == null || s.length() == 0) {
            return "";
        }

        ArrayDeque<String> deque = new ArrayDeque<>();
        for (int i = 0; i < s.length(); i++) {
            char c = s.charAt(i);
            if (c == '[') {
                deque.addLast(s.substring(i, i + 1));
            } else if (Character.isDigit(c)) {
                if (!deque.isEmpty()) {
                    char [] topArray = deque.peekLast().toCharArray();
                    if (topArray[0] >= '0' && topArray[0] <= '9') { //数字
                    String top = deque.pollLast();
                    deque.addLast(top + s.substring(i, i + 1));
                    } else {
                        deque.addLast( s.substring(i, i + 1));
                    }
                } else {
                    deque.addLast( s.substring(i, i + 1));
                }
               
            } else if (c == ']') {
                StringBuilder temp = new StringBuilder();
                while (!deque.isEmpty() && !deque.peekLast().equals("[")) {
                    temp.insert(0, deque.pollLast());
                }
                deque.pollLast(); // pop [
                String word = temp.toString();
                StringBuilder wordBuilder = new StringBuilder();
                int repeate = Integer.valueOf(deque.peekLast());
                for (int j = 0; j < repeate; j++) {
                    wordBuilder.append(word);
                }
                deque.pollLast();
                deque.addLast(wordBuilder.toString());
            }  else {
                deque.addLast(s.substring(i, i+1));
            }
        }
        StringBuilder result = new StringBuilder();
     
        while (!deque.isEmpty()) {
            result.insert(0, deque.pollLast());
        }
        return result.toString();

    }

}
```
